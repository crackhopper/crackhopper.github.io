(()=>{document.addEventListener("DOMContentLoaded",()=>{let o=document.querySelector(".toc-widget"),l=document.getElementById("right-sidebar"),t=document.getElementById("toc-float-btn");if(!o||!l)return;let a=e=>{let s=document.body;e?(o.classList.add("collapsed"),l.classList.add("collapsed"),s.classList.remove("toc-open"),t&&t.classList.add("collapsed"),localStorage.setItem("toc-collapsed","true")):(o.classList.remove("collapsed"),l.classList.remove("collapsed"),s.classList.add("toc-open"),t&&t.classList.remove("collapsed"),localStorage.setItem("toc-collapsed","false"))};localStorage.getItem("toc-collapsed")==="true"?a(!0):(t&&t.classList.remove("collapsed"),window.innerWidth<768&&a(!0)),document.body.addEventListener("click",e=>{if(window.innerWidth<768){let s=e.target;!o.classList.contains("collapsed")&&!l.contains(s)&&s!==t&&!t?.contains(s)&&(a(!0),e.stopPropagation())}}),t&&t.addEventListener("click",()=>{let e=o.classList.contains("collapsed");a(!e)})});})();
